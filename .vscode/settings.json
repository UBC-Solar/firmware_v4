{
  // -----------------------------
  // CMake / STM32 Cube (as you already have working)
  // -----------------------------
  "cmake.sourceDirectory": [
    "${workspaceFolder}/firmware/components/tel",
    "${workspaceFolder}/firmware/components/mdi",
    "${workspaceFolder}/firmware/components/drd"
  ],
  "cmake.buildDirectory": "${sourceDirectory}/build",
  "cmake.cmakePath": "cube-cmake",
  "cmake.configureArgs": [
    "-DCMAKE_COMMAND=cube-cmake",
    "-DCMAKE_EXPORT_COMPILE_COMMANDS=ON"
  ],
  "cmake.preferredGenerators": ["Ninja"],

  "editor.formatOnSave": true,

  "[c]": {
    "editor.defaultFormatter": "STMicroelectronics.stm32cube-ide-clangd"
  },
  "[cpp]": {
    "editor.defaultFormatter": "STMicroelectronics.stm32cube-ide-clangd"
  },


  "stm32cube-ide-clangd.path": "cube",
  "stm32cube-ide-clangd.arguments": [
    "starm-clangd",
    "--clang-tidy",
    "--compile-commands-dir=${sourceDirectory}/build",
    "--query-driver=${env:CUBE_BUNDLE_PATH}/gnu-tools-for-stm32/13.3.1+st.9/bin/arm-none-eabi-gcc",
    "--query-driver=${env:CUBE_BUNDLE_PATH}/gnu-tools-for-stm32/13.3.1+st.9/bin/arm-none-eabi-g++"
  ],

  
  "editor.codeActionsOnSave": {
    "source.fixAll": "never",
    "source.organizeImports": "never"
  }
}
